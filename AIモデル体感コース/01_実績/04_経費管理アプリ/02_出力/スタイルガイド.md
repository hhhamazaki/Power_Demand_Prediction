# 経費管理システムWebアプリケーション開発 - スタイルガイド

※ この資料は教育用のサンプルです。

## 1. コーディング規約

-   **HTML**: セマンティックなタグ（`<header>`, `<nav>`, `<h1>`など）を使用し、文書構造を明確にする。
-   **CSS**: `main.css`にスタイルを集約し、CSS変数（`--bg-primary`など）を用いてテーマ（色、フォント）を一元管理する。
-   **JavaScript**: ES6モジュール構文（`import`/`export`）を使用し、クラスベースでコンポーネントとサービスを実装する。

### 1.1. デザインコンセプト
**"Cyber Expense Management"** - サイバーパンク風の未来的なUIで、効率的な経費管理体験を提供。開発ガイドラインとコーディング規約に準拠した実践的な内容にリファクタリングし、パフォーマンスを最適化したデザインシステム。

### 1.2. デザイン原則
1. **一貫性**: 統一された視覚言語
2. **可読性**: 暗い背景でも読みやすいコントラスト
3. **効率性**: 最小クリック数での操作完了
4. **未来感**: ネオンアクセントによるサイバーパンク演出
5. **安全性**: セキュリティを感じさせる堅牢なデザイン
6. **パフォーマンス**: 高速レンダリングとレスポンシブ対応

### 1.3. ブランドキーワード
- **Futuristic** (未来的)
- **Secure** (安全)
- **Efficient** (効率的)
- **Professional** (プロフェッショナル)
- **Neon** (ネオン)
- **Optimized** (最適化)

## 2. ディレクトリ/パッケージ構成規約

`html`フォルダ配下の`src`フォルダに、役割ごとのサブフォルダを作成してJavaScriptファイルを整理する。

html/
├── index.html
└── src/
    ├── styles/main.css
    ├── ExpenseApp.js         # メインコントローラー
    ├── components/           # UIコンポーネント（例: ChartManager.js）
    ├── services/             # ビジネスロジック（例: ExpenseService.js）
    └── utils/                # 汎用ユーティリティ

### 2.1. プライマリカラー
#### 2.1.1. ダークベース
--bg-primary: #0a0a0a;        /* メイン背景 */
--bg-secondary: #1a1a2e;      /* セカンダリ背景 */
--bg-tertiary: #16213e;       /* アクセント背景 */
--bg-elevated: #0f3460;       /* 浮上要素背景 */

#### 2.1.2. ネオンアクセント
--accent-cyan: #00f0ff;       /* プライマリアクセント（シアン） */
--accent-magenta: #ff00ff;    /* セカンダリアクセント（マゼンタ） */
--accent-yellow: #ffff00;     /* 警告アクセント（イエロー） */
--accent-green: #00ff41;      /* 成功アクセント（グリーン） */

#### 2.1.3. テキストカラー
--text-primary: #ffffff;      /* メインテキスト */
--text-secondary: #b0b0b0;    /* セカンダリテキスト */
--text-muted: #666666;        /* ミュートテキスト */
--text-inverse: #000000;      /* 反転テキスト */

### 2.2. セマンティックカラー
#### 2.2.1. ステータスカラー
--success: #00ff41;           /* 成功状態 */
--warning: #ffff00;           /* 警告状態 */
--error: #ff0040;             /* エラー状態 */
--info: #00f0ff;              /* 情報状態 */

#### 2.2.2. 境界線・区切り
--border-primary: #333333;    /* メイン境界線 */
--border-accent: #00f0ff;     /* アクセント境界線 */
--border-muted: #1a1a1a;      /* ミュート境界線 */

### 2.3. カラー使用例
#### 2.3.1. 良い例（推奨）
/* 高コントラストで可読性確保 */
.primary-button {
    background: var(--accent-cyan);
    color: var(--bg-primary);
    border: 2px solid var(--accent-cyan);
}

/* 階層構造の明確化 */
.card {
    background: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    box-shadow: 0 0 20px rgba(0, 240, 255, 0.1);
}

#### 2.3.2. 悪い例（非推奨）
/* 低コントラストで読みにくい */
.bad-button {
    background: #333333;
    color: #666666;
}

/* ブランドに合わない明るい色 */
.off-brand {
    background: #ffffff;
    color: #000000;
}

### 2.4. カラー使用ガイドライン
#### 2.4.1. コントラスト比（WCAG 2.1 AA準拠）
| 背景色 | テキスト色 | コントラスト比 | 判定 |
|--------|-----------|---------------|------|
| #1a1a2e | #e0e0e0 | 7.2:1 | AAA対応 |
| #2a2a4a | #e0e0e0 | 5.8:1 | AA対応 |
| #00f0ff | #1a1a2e | 8.1:1 | AAA対応 |
| #ff00ff | #1a1a2e | 6.3:1 | AA対応 |

#### 2.4.2. カラー適用ルール
階層構造:
├── レベル1(最重要): accent-primary (#00f0ff)
├── レベル2(重要): accent-secondary (#ff00ff)
├── レベル3(補助): accent-tertiary (#00ff88)
└── レベル4(背景): surface colors

状態表現:
├── 通常: text-primary (#e0e0e0)
├── ホバー: accent-primary (#00f0ff)
├── アクティブ: accent-secondary (#ff00ff)
├── 無効: text-tertiary (#808080)
└── エラー: danger-color (#dc3545)

### 2.5. ダークモード専用設計
- **メインカラー:** 暗色ベース（#1a1a2e系統）
- **アクセント:** 高明度色でコントラスト確保
- **テキスト:** 明色（#e0e0e0）で視認性最適化
- **グラフィック:** ネオン効果で未来感演出

## 3. 命名規則

-   **CSSクラス**: ケバブケース（例: `.page-title`, `.form-group`）。
-   **JavaScript変数/関数**: キャメルケース（例: `appController`, `showPage`）。
-   **JavaScriptクラス**: パスカルケース（例: `ExpenseApp`, `ChartManager`）。

### 3.1. 基本UI要素
- **ボタン**: プライマリ・セカンダリ・アクセント
- **フォーム**: 入力・選択・送信要素
- **アラート**: 成功・警告・エラー表示
- **ナビゲーション**: メニュー・パンくず・ページング

### 3.2. インタラクション状態
- **通常**: デフォルト表示
- **ホバー**: マウスオーバー
- **アクティブ**: クリック・選択状態
- **無効**: 非活性状態

### 3.3. 視覚的フィードバック
- **トランジション**: 200ms ease-in-out
- **シャドウ**: depth-1（1px）〜depth-4（8px）
- **ボーダー**: 実線・点線・グラデーション

## 4. コメント/ドキュメント規則

### 4.1. フォントファミリー定義
#### 4.1.1. プライマリフォント（メインコンテンツ）
/* Google Fonts CDN */
@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap');

.font-primary {
    font-family: 'Rajdhani', -apple-system, BlinkMacSystemFont, 'Segoe UI', 
                 'Helvetica Neue', Arial, sans-serif;
    font-feature-settings: 'kern' 1, 'liga' 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

#### 4.1.2. ディスプレイフォント（ヘッダー・ロゴ）
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&display=swap');

.font-display {
    font-family: 'Orbitron', 'Courier New', monospace;
    font-feature-settings: 'kern' 1;
    letter-spacing: 0.05em;
    text-transform: uppercase;
}

#### 4.1.3. モノスペースフォント（コード・データ）
.font-mono {
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 
                 'Courier New', monospace;
    font-feature-settings: 'kern' 1, 'liga' 0;
}

### 4.2. タイポグラフィスケール
#### 4.2.1. 見出しサイズ（モジュラースケール 1.250）
.text-h1 { 
    font-size: 3.052rem;    /* ~48.8px */
    line-height: 1.1;
    font-weight: 700;
    letter-spacing: -0.02em;
}

.text-h2 { 
    font-size: 2.441rem;    /* ~39.1px */
    line-height: 1.2;
    font-weight: 600;
    letter-spacing: -0.01em;
}

.text-h3 { 
    font-size: 1.953rem;    /* ~31.2px */
    line-height: 1.3;
    font-weight: 500;
}

.text-h4 { 
    font-size: 1.563rem;    /* ~25px */
    line-height: 1.4;
    font-weight: 500;
}

.text-h5 { 
    font-size: 1.25rem;     /* ~20px */
    line-height: 1.5;
    font-weight: 400;
}

.text-h6 { 
    font-size: 1rem;        /* 16px */
    line-height: 1.5;
    font-weight: 600;
}

#### 4.2.2. ボディテキストサイズ
.text-body-large { 
    font-size: 1.125rem;    /* 18px */
    line-height: 1.6;
    font-weight: 400;
}

.text-body { 
    font-size: 1rem;        /* 16px */
    line-height: 1.5;
    font-weight: 400;
}

.text-body-small { 
    font-size: 0.875rem;    /* 14px */
    line-height: 1.4;
    font-weight: 400;
}

.text-caption { 
    font-size: 0.75rem;     /* 12px */
    line-height: 1.3;
    font-weight: 400;
    opacity: 0.8;
}

### 4.3. 特殊効果テキスト
#### 4.3.1. ネオンテキスト効果
.text-neon {
    color: var(--accent-primary);
    text-shadow: 
        0 0 5px var(--accent-primary),
        0 0 10px var(--accent-primary),
        0 0 15px var(--accent-primary);
    animation: neon-flicker 2s infinite alternate;
}

@keyframes neon-flicker {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}

#### 4.3.2. グラデーションテキスト
.text-gradient {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 700;
}

## 5. コミットメッセージ規約・ブランチ戦略

### 5.1. グリッドシステム
#### 5.1.1. コンテナ定義
.container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
}

.container-fluid {
    width: 100%;
    padding: 0 1rem;
}

.container-narrow {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 1rem;
}

#### 5.1.2. グリッドレイアウト
.grid {
    display: grid;
    gap: 1.5rem;
}

.grid-2 { grid-template-columns: repeat(2, 1fr); }
.grid-3 { grid-template-columns: repeat(3, 1fr); }
.grid-4 { grid-template-columns: repeat(4, 1fr); }

/* レスポンシブ対応 */
@media (max-width: 768px) {
    .grid-2, .grid-3, .grid-4 {
        grid-template-columns: 1fr;
    }
}

#### 5.1.3. フレックスボックスユーティリティ
.flex { display: flex; }
.flex-col { flex-direction: column; }
.flex-wrap { flex-wrap: wrap; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.items-center { align-items: center; }
.items-stretch { align-items: stretch; }

### 5.2. スペーシングシステム
#### 5.2.1. スペーシングスケール（8pt Grid）
:root {
    --space-xs: 0.25rem;    /* 4px */
    --space-sm: 0.5rem;     /* 8px */
    --space-md: 1rem;       /* 16px */
    --space-lg: 1.5rem;     /* 24px */
    --space-xl: 2rem;       /* 32px */
    --space-2xl: 3rem;      /* 48px */
    --space-3xl: 4rem;      /* 64px */
    --space-4xl: 6rem;      /* 96px */
}

#### 5.2.2. マージン・パディングユーティリティ
/* マージン */
.m-xs { margin: var(--space-xs); }
.m-sm { margin: var(--space-sm); }
.m-md { margin: var(--space-md); }
.m-lg { margin: var(--space-lg); }

/* パディング */
.p-xs { padding: var(--space-xs); }
.p-sm { padding: var(--space-sm); }
.p-md { padding: var(--space-md); }
.p-lg { padding: var(--space-lg); }

/* 方向別 */
.mt-md { margin-top: var(--space-md); }
.mb-lg { margin-bottom: var(--space-lg); }
.px-md { padding-left: var(--space-md); padding-right: var(--space-md); }
.py-lg { padding-top: var(--space-lg); padding-bottom: var(--space-lg); }

## 6. エラーハンドリング/ロギング規約

### 6.1. ボタンコンポーネント
#### 6.1.1. プライマリボタン
.btn-primary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.75rem 1.5rem;
    font-size: 1rem;
    font-weight: 500;
    color: var(--text-inverse);
    background: var(--gradient-primary);
    border: none;
    border-radius: 0.5rem;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    min-height: 44px; /* タッチターゲット */
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 
        0 8px 25px rgba(0, 240, 255, 0.3),
        0 0 20px rgba(255, 0, 255, 0.2);
}

.btn-primary:active {
    transform: translateY(0);
}

#### 6.1.2. セカンダリボタン
.btn-secondary {
    background: transparent;
    color: var(--accent-primary);
    border: 2px solid var(--accent-primary);
}

.btn-secondary:hover {
    background: var(--accent-primary);
    color: var(--text-inverse);
    box-shadow: 0 0 20px rgba(0, 240, 255, 0.4);
}

#### 6.1.3. 危険アクションボタン
.btn-danger {
    background: var(--danger-color);
    color: white;
    border: none;
}

.btn-danger:hover {
    background: #c82333;
    box-shadow: 0 4px 15px rgba(220, 53, 69, 0.4);
}

### 6.2. カードコンポーネント
#### 6.2.1. ベースカード
.card {
    background: var(--surface-container);
    border: 1px solid var(--surface-color);
    border-radius: 1rem;
    overflow: hidden;
    transition: all 0.3s ease;
    box-shadow: 
        0 4px 12px rgba(0, 0, 0, 0.15),
        0 0 20px rgba(26, 26, 46, 0.8);
}

.card:hover {
    transform: translateY(-4px);
    box-shadow: 
        0 8px 25px rgba(0, 0, 0, 0.2),
        0 0 30px rgba(0, 240, 255, 0.1);
}

#### 6.2.2. ダッシュボードカード
.dashboard-card {
    padding: 1.5rem;
    text-align: center;
    background: linear-gradient(135deg, 
        var(--surface-container) 0%, 
        var(--primary-color) 100%);
}

.dashboard-card .metric {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--accent-primary);
    text-shadow: 0 0 10px var(--accent-primary);
}

.dashboard-card .label {
    font-size: 0.875rem;
    color: var(--text-secondary);
    margin-top: 0.5rem;
}

### 6.3. テーブルコンポーネント
#### 6.3.1. ベーステーブル
.table {
    width: 100%;
    border-collapse: collapse;
    background: var(--surface-container);
    border-radius: 0.5rem;
    overflow: hidden;
}

.table th {
    background: var(--primary-color);
    color: var(--text-primary);
    padding: 1rem;
    text-align: left;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.table th:hover {
    background: var(--surface-variant);
    color: var(--accent-primary);
}

.table td {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--surface-color);
    color: var(--text-primary);
}

.table tr:hover {
    background: rgba(0, 240, 255, 0.05);
}

#### 6.3.2. ソート表示
.table th.sortable::after {
    content: ' ⇅';
    opacity: 0.5;
    margin-left: 0.5rem;
}

.table th.sort-asc::after {
    content: ' ▲';
    color: var(--accent-primary);
    opacity: 1;
}

.table th.sort-desc::after {
    content: ' ▼';
    color: var(--accent-primary);
    opacity: 1;
}

### 6.4. フォームコンポーネント
#### 6.4.1. 入力フィールド
.form-field {
    margin-bottom: 1.5rem;
}

.form-label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
    color: var(--text-primary);
}

.form-input {
    width: 100%;
    padding: 0.75rem;
    font-size: 1rem;
    color: var(--text-primary);
    background: var(--surface-container);
    border: 2px solid var(--surface-color);
    border-radius: 0.5rem;
    transition: all 0.3s ease;
}

.form-input:focus {
    outline: none;
    border-color: var(--accent-primary);
    box-shadow: 0 0 15px rgba(0, 240, 255, 0.3);
}

.form-input::placeholder {
    color: var(--text-tertiary);
}

#### 6.4.2. セレクトボックス
.form-select {
    position: relative;
    display: block;
}

.form-select select {
    width: 100%;
    padding: 0.75rem;
    background: var(--surface-container);
    border: 2px solid var(--surface-color);
    border-radius: 0.5rem;
    color: var(--text-primary);
    cursor: pointer;
    appearance: none;
}

.form-select::after {
    content: '▼';
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    color: var(--accent-primary);
    pointer-events: none;
}

## 7. API 設計ガイド

### 7.1. ヘッダーナビゲーション
#### 7.1.1. 固定ヘッダー
.header {
    position: sticky;
    top: 0;
    z-index: 1000;
    background: var(--gradient-surface);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--surface-color);
    box-shadow: 0 2px 20px rgba(0, 0, 0, 0.2);
}

.header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem;
    max-width: 1200px;
    margin: 0 auto;
}

#### 7.1.2. ロゴデザイン
.logo {
    font-family: 'Orbitron', monospace;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--accent-primary);
    text-decoration: none;
    text-shadow: 0 0 10px var(--accent-primary);
    letter-spacing: 0.1em;
}

#### 7.1.3. ナビゲーションメニュー
.nav-menu {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    gap: 2rem;
}

.nav-item a {
    color: var(--text-secondary);
    text-decoration: none;
    font-weight: 500;
    padding: 0.5rem 1rem;
    border-radius: 0.25rem;
    transition: all 0.3s ease;
    position: relative;
}

.nav-item a:hover,
.nav-item a.active {
    color: var(--accent-primary);
    text-shadow: 0 0 8px var(--accent-primary);
}

.nav-item a::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 50%;
    width: 0;
    height: 2px;
    background: var(--accent-primary);
    transition: all 0.3s ease;
    transform: translateX(-50%);
}

.nav-item a:hover::after,
.nav-item a.active::after {
    width: 100%;
}

### 7.2. レスポンシブナビゲーション
#### 7.2.1. モバイルメニュー
.mobile-menu-toggle {
    display: none;
    background: none;
    border: none;
    color: var(--text-primary);
    font-size: 1.5rem;
    cursor: pointer;
}

@media (max-width: 768px) {
    .nav-menu {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        background: var(--surface-container);
        flex-direction: column;
        padding: 1rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }
    
    .nav-menu.active {
        display: flex;
    }
    
    .mobile-menu-toggle {
        display: block;
    }
}

## 8. セキュアコーディング

-   **Content Security Policy (CSP)**: `index.html`の`meta`タグでCSPを設定し、信頼できるソースからのリソース読み込みのみを許可する。

### 8.1. トランジション設定
#### 8.1.1. 基本トランジション
:root {
    --transition-fast: 0.15s ease;
    --transition-base: 0.3s ease;
    --transition-slow: 0.5s ease;
    --transition-bounce: 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

#### 8.1.2. ホバーエフェクト
.hover-lift {
    transition: transform var(--transition-base);
}

.hover-lift:hover {
    transform: translateY(-4px);
}

.hover-glow {
    transition: all var(--transition-base);
}

.hover-glow:hover {
    box-shadow: 0 0 20px var(--accent-primary);
}

### 8.2. ローディングアニメーション
#### 8.2.1. スピナー
.spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--surface-color);
    border-top: 3px solid var(--accent-primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

#### 8.2.2. パルスエフェクト
.pulse {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { opacity: 1; }
    50% { opacity: 0.6; }
    100% { opacity: 1; }
}

### 8.3. ページ遷移アニメーション
#### 8.3.1. フェードトランジション
.page-enter {
    opacity: 0;
    transform: translateY(20px);
}

.page-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: all 0.5s ease;
}

.page-exit {
    opacity: 1;
    transform: translateY(0);
}

.page-exit-active {
    opacity: 0;
    transform: translateY(-20px);
    transition: all 0.3s ease;
}

## 9. UI/UX ガイドライン

### 9.1. カラーパレット

`main.css`で定義されたCSS変数を基準とする。

-   **背景色**: `--bg-primary`, `--bg-secondary`
-   **テキスト色**: `--text-primary`, `--text-secondary`
-   **アクセントカラー**: `--accent-cyan`, `--accent-magenta`

### 9.2. フォント

Google Fontsの`Orbitron`（見出し用）と`Rajdhani`（本文用）を使用し、未来的なデザインを演出する。

### 9.3. レイアウト

-   `.container`クラスでメインコンテンツの幅を最大`1200px`に制限する。
-   `.header`は画面上部に固定表示する。
-   各機能ページは`<div class="page">`でラップし、`hidden`クラスの付け外しで表示を切り替える。

### 9.4. Chart.js スタイリング
#### 9.4.1. グラフカラーパレット
const chartColors = {
    primary: ['#00f0ff', '#ff00ff', '#00ff88', '#ffaa00', '#ff4444'],
    background: ['rgba(0, 240, 255, 0.1)', 'rgba(255, 0, 255, 0.1)', 
                 'rgba(0, 255, 136, 0.1)', 'rgba(255, 170, 0, 0.1)', 
                 'rgba(255, 68, 68, 0.1)'],
    border: ['#00f0ff', '#ff00ff', '#00ff88', '#ffaa00', '#ff4444']
};

#### 9.4.2. 共通グラフ設定
const chartDefaults = {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
        legend: {
            labels: {
                color: '#e0e0e0',
                font: {
                    family: 'Rajdhani',
                    size: 14
                }
            }
        }
    },
    scales: {
        x: {
            ticks: { color: '#b0b0b0' },
            grid: { color: 'rgba(74, 74, 106, 0.3)' }
        },
        y: {
            ticks: { color: '#b0b0b0' },
            grid: { color: 'rgba(74, 74, 106, 0.3)' }
        }
    }
};

### 9.5. アイコン設計原則
#### 9.5.1. アイコンスタイル
- **サイズ:** 16px, 20px, 24px, 32px（4の倍数）
- **ストローク:** 2px（細線）、3px（太線）
- **スタイル:** Line icons（アウトライン）推奨
- **カラー:** システムカラーに準拠

#### 9.5.2. アイコンユーティリティ
.icon {
    display: inline-block;
    width: 1em;
    height: 1em;
    fill: currentColor;
    vertical-align: middle;
}

.icon-sm { font-size: 1rem; }    /* 16px */
.icon-md { font-size: 1.25rem; } /* 20px */
.icon-lg { font-size: 1.5rem; }  /* 24px */
.icon-xl { font-size: 2rem; }    /* 32px */

## 10. i18n/L10n ガイドライン

### 10.1. ブレークポイント定義
:root {
    --breakpoint-xs: 480px;   /* スマートフォン（小） */
    --breakpoint-sm: 640px;   /* スマートフォン（大） */
    --breakpoint-md: 768px;   /* タブレット（縦） */
    --breakpoint-lg: 1024px;  /* タブレット（横）・ラップトップ（小） */
    --breakpoint-xl: 1280px;  /* デスクトップ */
    --breakpoint-2xl: 1536px; /* 大型ディスプレイ */
}

### 10.2. レスポンシブユーティリティ
#### 10.2.1. 表示/非表示クラス
/* モバイル表示 */
.show-mobile { display: block; }
.hide-mobile { display: none; }

/* デスクトップ表示 */
@media (min-width: 768px) {
    .show-mobile { display: none; }
    .hide-mobile { display: block; }
    .show-desktop { display: block; }
    .hide-desktop { display: none; }
}

#### 10.2.2. フレキシブルレイアウト
.responsive-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
}

.responsive-flex {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
}

.responsive-flex > * {
    flex: 1 1 280px;
}

## 11. パフォーマンスガイド

-   JavaScriptは`type="module"`で読み込み、ブラウザのモジュール解決機能を利用する。
-   `DOMContentLoaded`イベントをリッスンし、DOMの準備ができてからスクリプトの初期化処理を実行する。

### 11.1. フォーカス管理
#### 11.1.1. フォーカスインジケーター
:focus-visible {
    outline: 2px solid var(--accent-primary);
    outline-offset: 2px;
    border-radius: 0.25rem;
}

.btn:focus-visible {
    box-shadow: 
        0 0 0 3px rgba(0, 240, 255, 0.3),
        0 0 15px var(--accent-primary);
}

.form-input:focus-visible {
    border-color: var(--accent-primary);
    box-shadow: 0 0 0 3px rgba(0, 240, 255, 0.2);
}

### 11.2. スクリーンリーダー対応
#### 11.2.1. 視覚的に隠すユーティリティ
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

#### 11.2.2. 高コントラストモード対応
@media (prefers-contrast: high) {
    :root {
        --text-primary: #ffffff;
        --bg-color: #000000;
        --accent-primary: #ffff00;
        --accent-secondary: #00ffff;
    }
}

## 12. テスト規約

### 12.1. CSS最適化
#### 12.1.1. クリティカルCSS
/* Above-the-fold content */
.header, .container, .btn-primary, .card {
    /* 最優先で読み込むスタイル */
}

### 12.2. アニメーション最適化
#### 12.2.1. GPU加速の活用
.gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
}

.smooth-animation {
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
}

## 13. ドキュメント記述ルール

### 13.1. CSS命名規則（BEM準拠）
#### 13.1.1. ブロック
.expense-card { }
.navigation-menu { }
.dashboard-metric { }

#### 13.1.2. エレメント
.expense-card__title { }
.expense-card__amount { }
.navigation-menu__item { }

#### 13.1.3. モディファイア
.expense-card--processed { }
.btn--large { }
.navigation-menu__item--active { }

### 13.2. CSS変数の管理
#### 13.2.1. テーマ切り替え対応
[data-theme="light"] {
    --bg-color: #ffffff;
    --text-primary: #333333;
    /* ライトテーマ用変数 */
}

[data-theme="dark"] {
    --bg-color: #1a1a2e;
    --text-primary: #e0e0e0;
    /* ダークテーマ用変数（デフォルト） */
}

### 13.3. 品質管理
#### 13.3.1. コードレビューチェックリスト
- [ ] カラーコントラスト比チェック
- [ ] レスポンシブデザイン確認
- [ ] フォーカス状態の視認性
- [ ] アニメーション性能確認
- [ ] アクセシビリティ検証

#### 13.3.2. テスト環境
- **ブラウザ:** Chrome, Firefox, Safari, Edge
- **デバイス:** iPhone, iPad, Android, Desktop
- **支援技術:** NVDA, JAWS, VoiceOver
