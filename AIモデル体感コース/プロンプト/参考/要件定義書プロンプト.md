# 電力需要予測AIモデル構築 要件定義書プロンプト

## 1. プロジェクト目的

### 1.1. システム目的
電力需要の高精度予測を実現する機械学習システムの構築。4種類のアルゴリズム（Keras、LightGBM、PyCaret、RandomForest）による包括的予測システムを開発し、電力需要管理の自動化・最適化を図る。

### 1.2. 技術達成目標
- **予測精度**: RMSE < 200kW、R2スコア > 0.9維持
- **性能最適化**: メモリ使用量50%削減、処理時間30%短縮
- **品質向上**: PEP 8準拠100%、型ヒント完全実装
- **統一アーキテクチャ**: @dataclass設定 + robust_model_operationデコレータ

## 2. 技術スタック

### 2.1. 開発環境
- **Python**: 3.10.11 (PyCaret互換性重視)
- **IDE**: VS Code + Python拡張機能
- **バージョン管理**: Git + GitHub

### 2.2. 機械学習ライブラリ
```python
# 固定バージョン（変更禁止）
pandas==1.5.3
numpy==1.24.4
scikit-learn==1.2.2
matplotlib==3.7.5
tensorflow==2.15.0
lightgbm==3.3.5
pycaret==3.0.0
psutil==5.9.5
```

### 2.3. データ処理・可視化
- **データ処理**: Pandas（統合エンジン）、NumPy（数値計算）
- **機械学習**: Scikit-learn（基盤）、各専用ライブラリ
- **可視化**: Matplotlib（16:9統一アスペクト比）
- **性能監視**: psutil（メモリ・CPU監視）

## 3. ページ構成・詳細

### 3.1. プロジェクト構造
```
AI/
├── data/
│   ├── data.py                    # 統合データ処理エンジン
│   ├── juyo-YYYY.csv             # 電力需要実績データ
│   ├── temperature-YYYY.csv      # 気温データ
│   └── [生成ファイル]            # X.csv, Y.csv, Xtrain.csv等
├── train/
│   ├── Keras/
│   │   ├── Keras_train.py        # 深層学習モデル
│   │   ├── Keras_model.h5        # 学習済みモデル
│   │   └── Keras_Ypred.csv       # 予測結果
│   ├── LightGBM/
│   │   ├── LightGBM_train.py     # 勾配ブースティング
│   │   └── [モデル・結果ファイル]
│   ├── Pycaret/
│   │   ├── Pycaret_train.py      # 自動機械学習
│   │   └── [モデル・結果ファイル]
│   └── RandomForest/
│       ├── RandomForest_train.py # アンサンブル学習
│       └── [モデル・結果ファイル]
└── tomorrow/
    ├── data.py                   # 最新データ取得
    ├── temp.py                   # 気温データ処理
    └── [各モデル予測ディレクトリ] # 明日予測実行
```

---
YouTube動画を使った講座プラットフォームのMVPを作成しますね。

### ✅ Update Todos

- ☑ プラットフォーム要件定義のヒアリング
- ☐ 技術スタック・アーキテクチャの決定
- ☐ プロジェクトセットアップ（Next.js）
- ☐ ダッシュボードページの実装
- ☐ 講座一覧ページの実装
- ☐ 講座詳細・動画視聴ページの実装
- ☐ モックデータの作成

---
🧠 Thinking...  
技術スタックを決める必要があります。ユーザーはNext.jsのカテゴリーがあると言っていたので、Next.jsを使うのが良さそうです。

### 🔧 技術スタック案

- Next.js（App Router）
- TypeScript
- Tailwind CSS
- モックデータ（認証・DBなし）

---

💻 早速プロジェクトをセットアップしましょう。

---
### 👀 確認させてください：

#### 技術スタック：

- Next.js 14（App Router）
- TypeScript
- Tailwind CSS
- モックデータ（認証・DB不要）

#### ページ構成：

1. `/` - ダッシュボード（講座一覧）
2. `/courses/[id]` - 講座詳細（カリキュラム・動画視聴）

#### デザインイメージ：

Udemyのようなオンライン学習プラットフォーム風のUIでよろしいですか？

---
# VibeCoding 動画講座プラットフォーム要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
VibeCoding 動画講座プラットフォーム (MVP)

### 1.2 目的
VibeCodingのYouTube動画コンテンツを体系的な講座として提供する  
学習プラットフォームのMVPを構築する。
### 1.3 ビジネスモデル
- 月額制サブスクリプション（2,980円）
- 複数の料金プランを想定（将来的に実装）

### 2. 機能要件

### 2.1 MVP必須機能
1. **ダッシュボード**
	- 講座一覧の表示
	- カテゴリによる分類表示（Next.js、Claude Code等）
	- 講座サムネイル、タイトル、概要の表示
2. 講座詳細ページ
	- カリキュラム形式での動画一覧表示
	- YouTube動画の埋め込み再生
	- 動画タイトル、説明文の表示
	- 学習進捗のUI表示（実機能はなし）

### 2.2 将来実装予定機能（MVP対象外）
- ユーザー認証・認可
- 決済機能
- 実際の学習進捗管理
- 質問・コメント機能
- 修了証発行機能

### 3. 非機能要件

#### 3.1 パフォーマンス
- ページ読み込み速度：3秒以内
- スムーズな動画再生体験

#### 3.2 ユーザビリティ
- レスポンシブデザイン（PC、タブレット、スマートフォン対応）
- 直感的なUI/UX
- Udemyライクなモダンな学習プラットフォームデザイン

### 4. 技術仕様

#### 4.1 技術スタック
- **フロントエンド**
  - Next.js 14 (App Router)
  - TypeScript
  - Tailwind CSS
  - React 18

### 4.2 データ管理
- モックデータ（JSON形式）
- 認証：データベース不要（MVP段階）

### 4.3 外部サービス
- YouTube埋め込み（iframe）

### 5. ページ構成

#### 5.1 ルーティング
- `/` - ダッシュボード（講座一覧）
- `/courses/[id]` - 講座詳細・動画視聴ページ

### 5.2 ページ詳細

#### ダッシュボード (´∇｀)
- ヘッダー：プラットフォーム名、ナビゲーション（ダミー）
- メインコンテンツ：
  - カテゴリフィルター
  - 講座カード（グリッドレイアウト）
  - 各カードに含まれる情報：
    - サムネイル画像
    - 講座タイトル
    - 講師名（VibeCoding）
    - 動画本数
    - 想定学習時間
    - 価格表示（月額2,980円）

#### 講座詳細ページ (`/courses/[id]`)
- 講座ヘッダー：
  - 講座タイトル
  - 講座概要
  - 講師情報

- カリキュラムセクション：
  - セクション単位での動画グループ化
  - 各動画の再生時間表示
  - 完了チェックボックス（UI のみ）

- 動画プレーヤーエリア：
  - YouTube 埋め込みプレーヤー
  - 動画タイトル  
  - 動画説明文

### 6. データ構造

#### 6.1 講座 (Course)
```typescript
interface Course {
  id: string;
  title: string;
  description: string;
  instructor: string;
  sections: Section[];
  price: number;
  category: string;
}
````

#### 6.2 セクション (Section)

```typescript
interface Section {
  id: string;
  title: string;
  videos: Video[];
}
```

#### 6.3 動画 (Video)

```typescript
interface Video {
  id: string;
  title: string;
  description: string;
  youtubeId: string;
}
```

## 7. デザイン仕様

### 7.1 カラーパレット

- プライマリカラー: 青系（信頼感）
- セカンダリカラー: 緑系（成長・学習）
- 背景色: 白・ライトグレー
- テキスト色: ダークグレー・ブラック

### 7.2 UI要素

- カード型デザイン
- シャドウ効果による立体感
- ホバーエフェクト
- プログレスバー（進捗表示）

## 8. モックデータ仕様

### 8.1 講座カテゴリ

- Next.js    
- Claude Code    
- React    
- TypeScript
### 8.2 サンプル講座
- 各カテゴリーに2-3個の講座を用意
- 1講座あたり30〜50本の動画を含む

### 9. 開発スケジュール

### Phase 1: プロジェクトセットアップ
- Next.jsプロジェクト作成
- 基本的なフォルダ構造の設定
- Tailwind CSS設定

### Phase 2: UI実装
- 共通コンポーネント作成
- ダッシュボード実装
- 講座詳細ページ実装

### Phase 3: モックデータ統合
- モックデータ作成
- データ表示の実装
- YouTube埋め込み実装

### Phase 4: 仕上げ
- レスポンシブ対応
- UI/UXの調整
- 最終確認

### 10. 成功指標 (MVP)
- 講座一覧が正しく表示される
- 講座詳細ページで動画が視聴できる
- レスポンシブデザインが機能する
- YouTube動画が正常に再生される

### 11. 今後の拡張計画

1. **認証・ユーザー管理**
   - NextAuth.jsによる認証実装
   - ユーザープロファイル機能

2. **決済機能**
   - Stripeによる月額課金実装
   - 複数プラン対応

3. **学習管理機能**
   - 実際の進捗トラッキング
   - 学習履歴の保存
   - レポート機能

4. **コミュニティ機能**
   - Q&A機能
   - ディスカッションフォーラム
   - ライブセッション機能
   - Zoom連携
   - カレンダー連携
   - リアルタイムチャット

### 12. Next.js 14 ベストプラクティス

### 12.2 App Router のベストプラクティス

### 12.1 プロジェクト構造

src/
├── app/
│   ├── (auth)/
│   ├── layout.tsx
│   ├── page.tsx
│   ├── globals.css
│   ├── courses/
│   │   └── [id]/
│   │       └── page.tsx
├── components/
│   ├── ui/
│   ├── layout/
│   ├── features/
├── lib/
│   ├── utils.ts
│   ├── constants.ts
├── hooks/
├── types/
├── data/

- App Router
- 認証が必要なルートグループ（将来用）
- ルートレイアウト
- ホームページ
- グローバルスタイル
- 動的ルート
- 共通コンポーネント
- 基本UIコンポーネント
- レイアウトコンポーネント
- 機能別コンポーネント
- ユーティリティ関数
- 汎用ユーティリティ
- 定数変数
- カスタムフック
- TypeScript型定義
- モックデータ

### 12.2.1 サーバーコンポーネントの活用

```typescript
// デフォルトでサーバーコンポーネント
// データフェッチはコンポーネント内で直接実行
async function CoursePage({ params }: { params: { id: string } }) {
  const course = await getCourse(params.id);
  return <CourseDetail course={course} />;
}
````
#### 12.2.2 クライアントコンポーネントの使用
```typescript
'use client'; // 必要な場合のみ使用

// インタラクティブな要素、hooks、ブラウザAPIを使用する場合
export function VideoPlayer({ videoId }: { videoId: string }) {
  const [playing, setPlaying] = useState(false);
  // ...
}
````

#### 12.2.3 loading.tsx の活用

```typescript
// app/courses/[id]/loading.tsx
export default function Loading() {
  return <CourseSkeleton />;
}
```

#### 12.2.4 error.tsx の実装

'use client';

export default function Error({
  error,
  reset,
}: {
  error: Error;
  reset: () => void;
}) {
  return (
    <div>
      <h2>エラーが発生しました</h2>
      <button onClick={() => reset()}>再試行</button>
    </div>
  );
}

### 12.3 パフォーマンス最適化  

### 12.3.1 画像最適化

```typescript
import Image from 'next/image';

// next/imageを使用して自動最適化
<Image
  src="/course-thumbnail.jpg"
  alt="Course thumbnail"
  width={300}
  height={200}
  priority // LCPの場合
/>
````

### 12.3.2 動的インポート
```typescript
import dynamic from 'next/dynamic';

// 重いコンポーネントの遅延読み込み
const VideoPlayer = dynamic(() => import('@/components/VideoPlayer'), {
  loading: () => <VideoPlayerSkeleton />,
  ssr: false, // クライアントサイドのみ
});
````
#### 12.3.3 Suspense の活用  
```typescript
import { Suspense } from 'react';

export default function CoursesPage() {
  return (
    <Suspense fallback={<CourseListSkeleton />}>
      <CourseList />
    </Suspense>
  );
}
````

### 12.4 データフェッチング  
#### 12.4.1 並列データフェッチ  
並列でデータを取得  
```typescript
async function CoursePage({ params }: { params: { id: string } }) {
  const [course, relatedCourses] = await Promise.all([
    getCourse(params.id),
    getRelatedCourses(params.id),
  ]);

  return (
    <>
      <CourseDetail course={course} />
      <RelatedCourses courses={relatedCourses} />
    </>
  );
}
````
#### 12.4.2 キャッシュ戦略
```typescript
// データキャッシュの設定
async function getCourses() {
  const res = await fetch('/api/courses', {
    next: { revalidate: 3600 } // 1時間キャッシュ
  });
  return res.json();
}
````
### 12.5 TypeScript ベストプラクティス

#### 12.5.1 厳格な型定義
```typescript
"compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true
}
````

#### 12.5.2 型の再利用

```typescript
// types/course.ts
export interface Course {
    id: string;
    title: string;
    // ...
}
```

// Utility Types の活用

```typescript
export type CoursePreview = Pick<Course, 'id' | 'title' | 'thumbnail'>;
export type CourseWithSections = Course & { sections: Section[] };
```

### 12.6 Tailwind CSS ベストプラクティス



では、要件定義書を機能毎にチケットに分割してください。  
/docs配下にお願いします。  
ファイルはマークダウンファイルでファイル名に連番を振ってください。  
各ファイルでTodoの管理もしていきます。  
- [ ] で終わったら  
- [x] を入れるように  
CLAUDE.mdファイルに記載しておいてください。

course-platform-for-yt
└ docs
   ├── 001-project-setup.md
   ├── 002-common-components.md
   ├── 003-mock-data.md
   ├── 004-dashboard-page.md
   ├── 005-course-detail-page.md
   ├── 006-responsive-design.md
   ├── 007-ui-polish.md

# チケット #001: プロジェクトセットアップ

## 目的  
- 開発環境の構築  
- 必要なパッケージのインストール  
- 基本的なプロジェクト構造の作成

## タスクリスト
- [ ] src/lib ディレクトリの作成  
- [ ] src/types ディレクトリの作成  
- [ ] src/data ディレクトリの作成  
- [ ] src/hooks ディレクトリの作成  

- [ ] 基本設定ファイルの調整  
  - [ ] tsconfig.json のパスエイリアス設定  
  - [ ] tailwind.config.ts のカスタマイズ  
  - [ ] next.config.ts の設定  

- [ ] 開発用パッケージのインストール  
  - [ ] clsx と tailwind-merge のインストール  
  - [ ] 型定義ファイルの追加  

## 技術仕様
- Next.js 14.x  
- TypeScript 5.x  
- Tailwind CSS 3.x  
- React 18.x  

## 完了条件
- `npm run dev` でプロジェクトが正常に起動する  
- TypeScript のコンパイルエラーがない  
- 基本的なフォルダ構造が整っている

# チケット #002: 共通コンポーネントの作成

## 概要  
プラットフォーム全体で使用する共通コンポーネントを作成する。

## 目的  
- 再利用可能なコンポーネントライブラリの構築  
- 一貫性のあるUIの実現  
- 開発効率の向上

## タスクリスト  
- [ ] レイアウトコンポーネント  
  - [ ] 'Header' コンポーネントの作成  
  - [ ] 'Footer' コンポーネントの作成  
  - [ ] 'Container' コンポーネントの作成  

- [ ] UIコンポーネント  
  - [ ] 'Button' コンポーネントの作成  
  - [ ] 'Card' コンポーネントの作成  
  - [ ] 'Badge' コンポーネントの作成  
  - [ ] 'Skeleton' ローディングコンポーネントの作成  

- [ ] ユーティリティ関数  
  - [ ] 'cn' 関数 (className結合) の作成  
  - [ ] 共通定数の定義  

- [ ] グローバルスタイル  
  - [ ] カスタムCSSクラスの定義  
  - [ ] Tailwindカスタムテーマの設定

## 技術仕様  
- コンポーネントはすべてTypeScriptで型定義  
- Tailwind CSSでスタイリング  
- アクセシビリティ対応 (ARIA属性)


Write(course-platform-for-yt\docs\003-mock-data.md)  
└ Wrote 1 lines to course-platform-for-yt\docs\003-mock-data.md  
# チケット #003: モックデータの作成  
## 概要  
講座プラットフォームで使用するモックデータを作成する。  
## 目的  
- 開発中に使用する現実的なサンプルデータの準備  
- データ構造の検証  
- UIテストのためのデータセット  

Write(course-platform-for-yt\docs\004-dashboard-page.md)  
└ Wrote 1 lines to course-platform-for-yt\docs\004-dashboard-page.md  
# チケット #004: ダッシュボード（講座一覧）ページの実装  
## 概要  
ユーザーが最初に訪れるダッシュボードページを実装する。講座の一覧をカード形式で表示する。  
## 目的  
- 講座一覧の魅力的な表示  
- カテゴリによるフィルタリング機能  
- レスポンシブなグリッドレイアウト

# チケット #006: レスポンシブデザインの実装  
## 概要  
すべてのページとコンポーネントをモバイル、タブレット、デスクトップに対応させる。  
## 目的  
- あらゆるデバイスでの最適な表示  
- タップフレンドリーなUI  
- 一貫性のあるユーザー体験  

Write(course-platform-for-yt\docs\007-ui-polish.md)  
└ Wrote 1 lines to course-platform-for-yt\docs\007-ui-polish.md  

# チケット #007: UI/UXの仕上げと最適化

## 概要  
プラットフォーム全体のUI/UXを洗練させ、プロフェッショナルな仕上がりにする。

## 目的  
- 視覚的な魅力の向上  
- ユーザビリティの改善  
- ブランドアイデンティティの確立

## タスクリスト  

- [ ] ビジュアルデザインの改善  
  - [ ] カラースキームの統一  
  - [ ] シャドウとボーダーの調整  
  - [ ] ホバー/フォーカス状態の実装  
  - [ ] トランジションアニメーション  

- [ ] インタラクションの改善  
  - [ ] ローディング状態の表示  
  - [ ] エラー状態の表示  
  - [ ] 空状態のデザイン  
  - [ ] フィードバックアニメーション  

- [ ] アクセシビリティ対応  
  - [ ] キーボードナビゲーション  
  - [ ] ARIAラベルの追加  
  - [ ] コントラスト比の確認  
  - [ ] フォーカスインジケーター  

- [ ] パフォーマンス最適化  
  - [ ] 不要な再レンダリングの削減  
  - [ ] 画像やフォントの最適化  
  - [ ] Core Web Vitalsの改善

## 実装順序  
1. プロジェクトセットアップ (001)  
2. 共通コンポーネントの作成 (002)  
3. モックデータの作成 (003)  
4. ダッシュボード（講座一覧）ページの実装 (004)  
5. 講座詳細・動画視聴ページの実装 (005)  
6. レスポンシブデザインの実装 (006)  
7. UI/UXの仕上げと最適化 (007)  

## 進捗管理  
各チケット内のタスクリストで詳細な進捗を管理します。  
- [ ] ： 未完了  
- [x] ： 完了  

## 備考  
- 各チケットは独立して作業可能ですが、推奨順序に従うことで効率的に開発できます  
- 優先度「高」のチケットから着手することを推奨します

VideoList:
- 動画の選択と切り替え  
- 完了状態の表示（チェックマーク）  
- 現在再生中の動画のハイライト  
- ホバーエフェクト  

追加機能:
- 動的な動画生成（30~50本をランダムに生成）  
- 動画視聴後に自動的に完了マーク（デモ用）  
- 次の動画の提案  
- レスポンシブデザイン（モバイルではカラム）  
- スティッキーカリキュラム（スクロール時も表示）  

デザインの特徴:
- モダンでクリーンなUI  
- 青とエメラルドグリーンのカラースキーム  
- スムーズなアニメーション  
- 視覚的にわかりやすい進捗表示  

これでMVPの主要機能の実装が完了しました！次はどうしますか？
