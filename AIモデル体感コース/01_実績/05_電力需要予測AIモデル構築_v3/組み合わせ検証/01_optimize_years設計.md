どの年を訓練・検証・テストに割り当てると精度が高くなるかを体系的に見つける方法。

---

## 🔑 年の組み合わせを見つける基本アプローチ

1. **データを年単位で分割**
    
    - 2016年, 2017年, …, 2024年といった形でブロック化
    - 各年を「独立したサンプル群」として扱う
2. **組み合わせ設計**
    
    - **ホールドアウト方式**
        - 例：2016–2020年 → 訓練
        - 2021–2022年 → 検証
        - 2023–2024年 → テスト
    - **ローリング方式（時系列交差検証）**
        - Fold1: 2016 → 訓練, 2017 → 検証
        - Fold2: 2016–2017 → 訓練, 2018 → 検証
        - …
        - FoldN: 2016–2023 → 訓練, 2024 → 検証
3. **各組み合わせでモデルを学習・評価**
    
    - 評価指標（Accuracy, F1, AUCなど）を記録
    - 年ごとの精度変動を比較
4. **最適な年の組み合わせを決定**
    
    - 「どの年を訓練に含めると精度が安定するか」を分析
    - 例：2016–2022年で訓練し、2023–2024年でテスト → 汎化性能が高い

---

## 🧪 実務での検証フロー例

- **Step1:** データを2016〜2024年で分割
- **Step2:** `TimeSeriesSplit`（scikit-learn）などを使いローリング交差検証を設定
- **Step3:** 各Foldで学習 → 検証精度を記録
- **Step4:** 全Foldの平均精度を算出
- **Step5:** 最終的に「2016〜2022で訓練、2023〜2024でテスト」などの組み合わせを採用

---

## 📌 まとめ

- **焦点は「モデル」ではなく「年の組み合わせ」**
- **ローリング方式の時系列交差検証**を使うことで、2016〜2024年のどの範囲を訓練・検証・テストに使うのが最適かを体系的に見つけられる
- 最終的には「過去の年で訓練 → 直近の年でテスト」という流れが最も再現性が高い
